<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Regalo rubia</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      padding: 0;
      background-color: #f2f2f2;
      overflow: hidden;
    }

    #folder{
        width: 100%;
        min-width: 500px;
        height: 250px;
        background-color: #4b4b4b;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        opacity: 0;
        transition: opacity 1s ease;
        cursor: pointer;
    }
    @media (max-width: 400px){
        #folder{
            min-width: 350px;
        }
    }
    #folder.after{
        opacity: 1;
    }
    #folderTriangle{
        position: absolute;
        top: 0;
        width: 100%;
        height: 100px;
        background:
            -webkit-radial-gradient(white 10%, transparent 15.1%),
            -webkit-radial-gradient(white 7%, transparent 15.1%),
            rgb(59, 163, 156);
        background-position:0 0, 10px 10px;
        background-size: 20px 20px;
        clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
        opacity: 1;
        transition: opacity 0.5s ease;
    }
    #folderTriangle.after{
        opacity: 0;
    }
    #folderTriangleOpen{
        width: 100%;
        height: 100px;
        background:
            -webkit-radial-gradient(white 10%, transparent 15.1%),
            -webkit-radial-gradient(white 7%, transparent 15.1%),
            rgb(59, 163, 156);        background-position:0 0, 10px 10px;
        background-size: 20px 20px;
        clip-path: polygon(0% 100%, 100% 100%, 50% 0%);
        opacity: 0;
        transition: opacity 0.5s ease;
    }
    #folderTriangleOpen.afterOpen{
        opacity: 1;
    }
    #open{
        color: white;
        font-size: clamp(0.5rem, 1rem, 1rem);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        opacity: 1;
        transition: opacity 1s ease;
    }
    #open.after{
        opacity: 0;
    }
    #folder_text{
        top: 0;
        left: 0;
        position: absolute;
        width: 100%;      
        height: 100%;         
        display: flex;          
        align-items: top center;  
        justify-content: center;
        color: white;
        font-size: clamp(0.5rem, 1rem, 1rem);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        opacity: 0;
        transition: opacity 1s ease;
        word-break: keep-all;
    }

    #folder_text.after{
        opacity: 1;
    }

    /*Copos de nieve*/
    #snow-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none; /* no bloquea clicks */
      z-index: -1; /* detrás de todo */
      overflow: hidden;   /* nada se sale del contenedor */
    }

    .snowflake {
        z-index: -1;
      position: absolute;
      top: -10px;
      color: lightblue;
      font-size: 1em;
      animation: fall linear infinite;
      opacity: 1;
    }
    @keyframes fall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(360deg);
          opacity: 0.3;
        }
    }
  </style>
</head>


<div id="snow-container"></div>





<body>
    <div id="message">
        <div id="folderTriangleOpen"></div>
        <div id="folder" class="after">
            <p id="folder_text">Muchisimas felilcidades ¡Muchísimas felicidades en este día tan especial!<br>
                        Que cada momento esté lleno de alegría, risas y sorpresas inolvidables. <br>
                        Que todos tus sueños y metas se cumplan, y que sigas creciendo y brillando como hasta ahora. <br>
                        Disfruta de cada instante, rodeado de las personas que más quieres, y recuerda siempre celebrar tus logros, grandes y pequeños. <br>
                        ¡Que la felicidad te acompañe hoy y siempre! </p>
            <div id="folderTriangle"></div>
            <div id="open"><p>Clicame para abrirme</p></div>
        </div>
    </div>






  
  <script>
    const folder = document.getElementById("folder");
    const Triangles = [document.getElementById("folderTriangle"),document.getElementById("folderTriangleOpen")];
    const control = false; //Si está abierto (true) o no (false)
    const textFolder = document.getElementById("open"); 
    const text = document.getElementById("folder_text");
    folder.addEventListener('click', () => {
        if(getComputedStyle(folder).opacity == "1"){
            if(control == false){
                Triangles[0].classList.add("after");
                Triangles[1].classList.add("afterOpen");
                folder.style.cursor="auto";
                textFolder.classList.add("after");
                setTimeout(() => {
                    text.classList.add("after");
                }, 1000);
            };
        };
    });
    /*Copos de nieve*/
    const snowCount = 250; // cantidad total deseada
    let created = 0;
    const snowContainer = document.getElementById("snow-container");

    const createSnowflake = () => {
      const snowflake = document.createElement("div");
      snowflake.classList.add("snowflake");
      snowflake.textContent = "❄";
      snowflake.style.left = Math.random() * 100 + "vw";
      snowflake.style.fontSize = (Math.random() * 20 + 20) + "px";
      snowflake.style.animationDuration = (Math.random() * 5 + 5) + "s";
      snowflake.style.animationDelay = "-" + Math.random() * 5 + "s"; // empieza ya
      snowContainer.appendChild(snowflake);
    };


    const snowInterval = setInterval(() => {
      createSnowflake();
      created++;
      if (created >= snowCount) clearInterval(snowInterval);
    }, 80); // crea un copo cada 80 ms aprox.

  </script>
</body>
</html>
